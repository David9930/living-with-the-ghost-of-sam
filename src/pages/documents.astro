---
import Layout from '../layouts/Layout.astro';
---

<Layout title="Show Documents">
	<main>
		<h1>Show Documents</h1>
		<p class="instruction">Click on a box to stop it, then click "View Document" to proceed</p>
		
		<div class="floating-container">
			<div class="doc-card" id="synopsis-card">
				<div class="card-content">
					<h2>Show Synopsis</h2>
					<p>Complete show overview and concept</p>
					<a href="/roles/synopsis" class="view-btn">View Document</a>
				</div>
			</div>
			
			<div class="doc-card" id="season-arc-card">
				<div class="card-content">
					<h2>Show Arc and Episode Highlights</h2>
					<p>First season story arc and episode breakdown</p>
					<a href="/roles/SeasonArcSummary" class="view-btn">View Document</a>
				</div>
			</div>
		</div>
	</main>
</Layout>

<style>
	main {
		margin: auto;
		padding: 2rem;
		max-width: 1200px;
		color: white;
		height: 80vh;
		position: relative;
		overflow: hidden;
	}
	
	h1 {
		font-size: 2.5rem;
		text-align: center;
		margin-bottom: 1rem;
		text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
	}
	
	.instruction {
		text-align: center;
		font-size: 1.2rem;
		margin-bottom: 2rem;
		color: #FFD700;
		font-style: italic;
	}
	
	.floating-container {
		position: relative;
		width: 100%;
		height: 100%;
	}
	
	.doc-card {
		position: absolute;
		width: 300px;
		background: rgba(0, 0, 0, 0.7);
		padding: 1.5rem;
		border-radius: 12px;
		cursor: pointer;
		box-shadow: 0 0 25px rgba(33, 150, 243, 0.4);
		border: 1px solid rgba(255, 255, 255, 0.1);
		transition: transform 0.3s, box-shadow 0.3s;
		animation-duration: 30s;
		animation-iteration-count: infinite;
		animation-timing-function: linear;
		animation-direction: alternate;
		user-select: none;
	}
	
	#synopsis-card {
		animation-name: float-1;
		left: 20%;
		top: 10%;
	}
	
	#season-arc-card {
		animation-name: float-2;
		right: 20%;
		top: 30%;
	}
	
	.doc-card.paused {
		animation-play-state: paused;
		box-shadow: 0 0 30px rgba(255, 215, 0, 0.6);
		transform: scale(1.05);
		z-index: 10;
	}
	
	.card-content {
		height: 100%;
		display: flex;
		flex-direction: column;
	}
	
	.doc-card h2 {
		font-size: 1.5rem;
		margin-bottom: 1rem;
		color: #FFD700;
	}
	
	.doc-card p {
		flex-grow: 1;
		margin-bottom: 1.5rem;
	}
	
	.view-btn {
		display: inline-block;
		background: #2196F3;
		color: white;
		padding: 0.7rem 1.2rem;
		border-radius: 4px;
		text-decoration: none;
		text-align: center;
		transition: background 0.3s, transform 0.3s;
		font-weight: bold;
		position: relative;
		overflow: hidden;
	}
	
	.view-btn:hover {
		background: #1976D2;
		transform: translateY(-2px);
	}
	
	.view-btn::after {
		content: '';
		position: absolute;
		top: -50%;
		left: -50%;
		width: 200%;
		height: 200%;
		background: rgba(255, 255, 255, 0.2);
		transform: rotate(45deg);
		transition: transform 0.6s;
	}
	
	.view-btn:hover::after {
		transform: rotate(45deg) translate(50%, 50%);
	}
	
	@keyframes float-1 {
		0% { transform: translate(0, 0) rotate(0deg); }
		20% { transform: translate(100px, 50px) rotate(5deg); }
		40% { transform: translate(200px, -30px) rotate(-3deg); }
		60% { transform: translate(100px, 100px) rotate(5deg); }
		80% { transform: translate(-50px, 30px) rotate(-5deg); }
		100% { transform: translate(0, 0) rotate(0deg); }
	}
	
	@keyframes float-2 {
		0% { transform: translate(0, 0) rotate(0deg); }
		20% { transform: translate(-100px, 30px) rotate(-5deg); }
		40% { transform: translate(-150px, -50px) rotate(3deg); }
		60% { transform: translate(-50px, 80px) rotate(-3deg); }
		80% { transform: translate(100px, 10px) rotate(5deg); }
		100% { transform: translate(0, 0) rotate(0deg); }
	}
	
	@media (max-width: 768px) {
		.doc-card {
			width: 250px;
		}
	}
	
	@media (max-width: 480px) {
		.floating-container {
			height: 600px;
		}
		
		.doc-card {
			position: relative;
			margin: 2rem auto;
			animation: none !important;
			width: 100%;
			max-width: 300px;
			left: auto !important;
			right: auto !important;
			top: auto !important;
		}
		
		#synopsis-card, #season-arc-card {
			display: block;
		}
	}
</style>

<script>
	document.addEventListener('DOMContentLoaded', () => {
		const cards = document.querySelectorAll('.doc-card');
		
		cards.forEach(card => {
			// Toggle paused state when clicking the card
			card.addEventListener('click', (e) => {
				// Only toggle if the click is on the card itself, not on the button
				if (!e.target.classList.contains('view-btn')) {
					card.classList.toggle('paused');
					
					// If this card is now paused, make sure it's on top
					if (card.classList.contains('paused')) {
						// Lower z-index of all cards
						cards.forEach(c => {
							c.style.zIndex = "1";
						});
						// Raise z-index of this card
						card.style.zIndex = "10";
					}
				}
			});
			
			// Prevent the anchor click from propagating to the card
			const anchor = card.querySelector('.view-btn');
			anchor.addEventListener('click', (e) => {
				// Only navigate if the card is paused
				if (!card.classList.contains('paused')) {
					e.preventDefault();
					card.classList.add('paused');
				}
			});
		});
	});
</script>
