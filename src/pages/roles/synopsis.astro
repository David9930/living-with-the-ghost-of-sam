---
import Layout from '../../layouts/Layout.astro';
---

<Layout title="Living with the Ghost of Sam - Show Synopsis">
  <div class="synopsis-container">
    <!-- Floating Ghost Effect -->
    <div class="floating-ghost-container">
      <div class="ghost ghost-1"></div>
      <div class="ghost ghost-2"></div>
      <div class="ghost ghost-3"></div>
    </div>

    <header class="nav-header">
      <nav>
        <a href="/">Home</a>
        <a href="/characters">Characters</a>
        <a href="/episodes">Episodes</a>
        <a href="/docs">Documents</a>
        <a href="/gallery">Gallery</a>
      </nav>
    </header>

    <main>
      <div class="hero-section">
        <div class="parallax-layers">
          <div class="layer layer-1"></div>
          <div class="layer layer-2"></div>
          <div class="layer layer-3"></div>
        </div>
        <div class="hero-content">
          <h1 class="title">Living with the <span class="ghost-text">Ghost</span> of Sam</h1>
          <div class="subtitle-container">
            <p class="tagline">When artificial intelligence meets the supernatural... with a wicked sense of humor</p>
            <div class="accent-line"></div>
          </div>
        </div>
      </div>

      <section class="synopsis-content">
        <!-- Your existing content -->
      </section>
    </main>
  </div>
</Layout>

<style>
  /* Base Styles */
  :root {
    --primary: #6E01EF;
    --secondary: #FF5722;
    --dark: #151515;
    --light: #f5f5f5;
    --accent: #00E5FF;
    --gradient-bg: linear-gradient(135deg, #1A1A1A 0%, #303030 100%);
  }

  .synopsis-container {
    color: var(--light);
    font-family: 'Poppins', sans-serif;
    position: relative;
    overflow-x: hidden;
  }

  /* Floating Ghost Effect */
  .floating-ghost-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 1;
    overflow: hidden;
  }

  .ghost {
    position: absolute;
    /* FIXED: Changed url path to include full GitHub Pages path */
    background-image: url('https://david9930.github.io/living-with-the-ghost-of-sam/images/GhostSpirit.jpg');
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    opacity: 0.15;
    filter: blur(1px);
    mix-blend-mode: screen;
    pointer-events: none;
  }

  /* Add a fallback color just in case */
  .ghost-1, .ghost-2, .ghost-3 {
    background-color: rgba(255, 255, 255, 0.2);
  }

  .ghost-1 {
    width: 200px;
    height: 250px;
    top: 15%;
    left: -100px;
    animation: floatGhost1 90s linear infinite;
  }

  .ghost-2 {
    width: 150px;
    height: 180px;
    top: 45%;
    right: -150px;
    opacity: 0.12;
    animation: floatGhost2 120s linear infinite;
  }

  .ghost-3 {
    width: 180px;
    height: 220px;
    bottom: 10%;
    left: 50%;
    opacity: 0.08;
    filter: blur(2px);
    animation: floatGhost3 150s linear infinite;
  }

  /* Fix for Sam's image too */
  .sam {
    background-image: url('https://david9930.github.io/living-with-the-ghost-of-sam/images/SamImagesmall.jpg');
    background-color: #444; /* Fallback */
  }

  /* Also fix the layer background image */
  .layer-1 {
    background-image: url('https://david9930.github.io/living-with-the-ghost-of-sam/images/SamImage.jpg');
    opacity: 0.15;
    filter: blur(0px) contrast(1.2);
    transform: translateZ(-10px) scale(2);
  }

  /* Animation keyframes */
  @keyframes floatGhost1 {
    0% {
      transform: translateX(0) translateY(0) rotate(0deg) scale(1);
    }
    25% {
      transform: translateX(calc(100vw + 200px)) translateY(100px) rotate(15deg) scale(1.2);
    }
    50% {
      transform: translateX(calc(100vw - 100px)) translateY(300px) rotate(-10deg) scale(0.8);
    }
    75% {
      transform: translateX(200px) translateY(150px) rotate(5deg) scale(1.1);
    }
    100% {
      transform: translateX(0) translateY(0) rotate(0deg) scale(1);
    }
  }

  @keyframes floatGhost2 {
    0% {
      transform: translateX(0) translateY(0) rotate(0deg) scale(1);
    }
    25% {
      transform: translateX(calc(-100vw - 150px)) translateY(-120px) rotate(-15deg) scale(0.9);
    }
    50% {
      transform: translateX(calc(-100vw + 300px)) translateY(-200px) rotate(10deg) scale(1.2);
    }
    75% {
      transform: translateX(-400px) translateY(-50px) rotate(-5deg) scale(0.8);
    }
    100% {
      transform: translateX(0) translateY(0) rotate(0deg) scale(1);
    }
  }

  @keyframes floatGhost3 {
    0% {
      transform: translateX(0) translateY(0) rotate(0deg) scale(1);
    }
    20% {
      transform: translateX(300px) translateY(-150px) rotate(10deg) scale(1.1);
      opacity: 0.1;
    }
    40% {
      transform: translateX(100px) translateY(-300px) rotate(-5deg) scale(0.9);
      opacity: 0.05;
    }
    60% {
      transform: translateX(-200px) translateY(-200px) rotate(8deg) scale(1.3);
      opacity: 0.09;
    }
    80% {
      transform: translateX(-400px) translateY(-100px) rotate(-15deg) scale(0.8);
      opacity: 0.07;
    }
    100% {
      transform: translateX(0) translateY(0) rotate(0deg) scale(1);
      opacity: 0.08;
    }
  }

  /* Add the rest of your styles here */
</style>

<script>
  // Simple debug script to help diagnose image loading issues
  document.addEventListener('DOMContentLoaded', () => {
    console.log("Checking if ghost images are loading...");
    
    // Test loading the ghost image
    const testImage = new Image();
    testImage.onload = () => console.log("Ghost image loaded successfully!");
    testImage.onerror = () => {
      console.error("Failed to load ghost image");
      // Make ghosts more visible if image fails
      document.querySelectorAll('.ghost').forEach(ghost => {
        ghost.style.backgroundColor = 'rgba(255, 255, 255, 0.3)';
        ghost.style.boxShadow = '0 0 20px rgba(255, 255, 255, 0.3)';
      });
    };
    testImage.src = 'https://david9930.github.io/living-with-the-ghost-of-sam/images/GhostSpirit.jpg';
  });
</script>
